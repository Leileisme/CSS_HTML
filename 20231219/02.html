<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css' />

  <style>
    body {
      padding-bottom: 300px;
    }

    .box1,
    .box2,
    .box3,
    .box4,
    .box5,
    .box6,
    .box7,
    .box8,
    .box9,
    .box10,
    .box11,
    .box12,
    .box13,
    .box14,
    .box15,
    .box16,
    .box17,
    .box18,
    .box19,
    .box20,
    .box21,
    .box22,
    .box23,
    .box24,
    .box25,
    .box26,
    .box27 {
      width: 50px;
      height: 50px;
      background: #000;
      margin: 5px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h2>timeline - 時間軸</h2>
    <ul>
      <li>一種用來組織動畫的方式，是 tween 與其他 timeline 的容器，可以管理動畫的排序</li>
      <li>可以使用 tween 的方法，也有自己獨特的方法 </li>
      <li>有自己的 vars 物件可以設定，有些屬性與 tween 是相同的</li>
    </ul>

    <h3>tween 與 timeline 差異</h3>
    <h4>tween 佇列動畫</h4>
    <p>侷限：</p>
    <div class="box1"></div>
    <div class="box2"></div>
    <div class="box3"></div>

    <h4>timeline 佇列動畫</h4>
    <p>控制動畫變得很容易，動畫之間也可以有間隙等待或重疊出場</p>
    <div class="box4"></div>
    <div class="box5"></div>
    <div class="box6"></div>

    <h3>defaults 設定</h3>
    <p>補間動畫屬性相同時，會有重複不必要的程式碼，</p>
    <div class="box7"></div>
    <div class="box8"></div>
    <div class="box9"></div>

    <h4>可以使用 defaults 提取出來</h3>
      <div class="box10"></div>
      <div class="box11"></div>
      <div class="box12"></div>


      <hr>

      <h3>timeline 的 vars 物件設定</h3>
      <p>vars 除了可以設定 defaults，還可以設定一些與補間動畫 tween 相同的屬性</p>
      <div class="box13"></div>
      <div class="box14"></div>
      <div class="box15"></div>

      <hr>
      <h3></h3>
      <p></p>
      <div class="box16"></div>
      <div class="box1"></div>
      <div class="box1"></div>

  </div>

  <!-- JQ -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.js'></script>
  <!-- 設定 gasp 主程式 -->
  <script src="./gsap/gsap.js"></script>

  <script>
    gsap.to('.box1', { x: 500, duration: 1 })
    gsap.to('.box2', { x: 500, duration: 1, delay: 1 })
    gsap.to('.box3', { x: 500, duration: 1, delay: 2 })

    // 建立時間軸
    const tl1 = gsap.timeline()
    tl1
      .to('.box4', { x: 500, duration: 1 })
      .to('.box5', { x: 500, duration: 1 })
      .to('.box6', { x: 500, duration: 1 })

    // defaults 設定
    const tl2 = gsap.timeline()
    tl2
      .to('.box7', { x: 500, duration: 1, ease: 'back' })
      .to('.box8', { x: 750, duration: 1, ease: 'back' })
      .to('.box9', { x: 1000, duration: 1, ease: 'back' })


    const tl3 = gsap.timeline({
      defaults: {
        duration: 1,
        ease: 'back'
      }
    })

    tl3
      .to('.box10', { x: 500 })
      .to('.box11', { x: 750 })
      .to('.box12', { x: 1000, duration: 2 }) // 可以覆蓋 default 設定，例如這裡的duration


    // timeline 的 vars 物件設定---------------------

    const tl4 = gsap.timeline({
      defaults: {
        duration: 1,
        ease: 'power1.inOut'
      },
      // timeline 的屬性設定(指的是整體時間軸)
      repeat: 1,
      repeatDelay: 0,
      yoyo: true,
      delay: 0,
      paused: false,
      // 停下後再從相同的地方繼續開始
      repeatRefresh: true
    })

    tl4
      .to('.box13', { x: '+=100' })
      .to('.box14', { x: '+=150' })
      .to('.box15', { x: '+=200' })

    // timeline 的方法---------------------
    const tl5 = gsap.timeline({
      defaults: {
        duration: 1
      },
      paused: true,// paused 不會寫在 defaults 裡面，這代表3個補間動畫會暫停
    })

    tl5
      .to('.box16', { x: 100 })
      .to('.box17', { x: 200 })
      .to('.box18', { x: 300 })

    $('#paly').on('click', () => {

    })


  </script>
</body>

</html>